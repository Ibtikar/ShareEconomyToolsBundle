services:

    api_operations:
        class: Ibtikar\ShareEconomyToolsBundle\Service\APIOperations
        arguments: [ '@validator' ]

    firebase:
        class: Ibtikar\ShareEconomyToolsBundle\Service\FireBaseHandler
        arguments: [ '%firebase_url_base%','%firebase_database_secret%' ]
        
    google.distancematrix:
        class: Ibtikar\ShareEconomyToolsBundle\Service\GoogleDestanceMatrix
        arguments: [ '%google_destance_matrix_url_base%','%google_destance_matrix_key%' ]
            
    request.listener.check_api_token:
        class: Ibtikar\ShareEconomyToolsBundle\Listener\CheckAPITokenListener
        arguments: [ '@api_operations', '%android_api_key%', '%ios_api_key%' ]
        tags:
            - { name: kernel.event_listener, event: kernel.request, method: onRequest, priority: 255 }

    request.listener.language:
        class: Ibtikar\ShareEconomyToolsBundle\Listener\LanguageListener
        arguments: [ "%accepted_locales%" ]
        tags:
            - { name: kernel.event_listener, event: kernel.request, method: onRequest, priority: 254 }